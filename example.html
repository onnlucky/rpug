<!doctype html>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<title>test</title>
<script src="bundle.js"></script>
<style>
.bar, .foo, .test {
    background-color: pink;
}
.test.foo.bar {
    background-color: green;
}
</style>
<body>
    <script type="text/rpug">
button(onclick=incClicks) click
p.test.foo(class=collection.length==2?"bar":"nonono") Click count: #{clicks}
ul
  each val, index in collection
    li= val
      button(onclick=delItem,data=index) -
    </script>
    <script>

        var collection = []
        var clicks = 0
        function incClicks() {
            clicks += 1
            collection.push(collection.length + 1)
        }
        function delItem(event) {
            collection.splice(event.target.getAttribute("data"), 1)
        }

        var rpug = require("rpug")
        rpug.app(eval(rpug.init()))
    </script>
</body>
